核心算法:
用 分-时间 做排序的依据, 维持一个跳表
同时用维护一个 map[玩家id]*跳表节点 做反向查询用
因为10w日活*30日活动. 完全可以在一个4G内存中完成

(测试数据是1kw玩家,每个玩家提交5次,内存峰值是6500m左右)
2023/07/15 23:06:03 [Hello, log file!] - 启动
2023/07/15 23:06:52 [Looped once ] - 第一轮提交完毕 ,49秒
2023/07/15 23:08:31 [Looped once ] - 第二轮提交完毕 ,99秒
2023/07/15 23:10:06 [Looped once ] - 第三轮提交完毕 ,95秒
2023/07/15 23:11:43 [Looped once ] - 第四轮提交完毕 ,97秒
2023/07/15 23:13:16 [Looped once ] - 第五轮提交完毕 ,93秒
2023/07/15 23:13:16 [set data finished!] 
2023/07/15 23:13:19 [Build Index finished!] -遍历 list , hash查找玩家,记录Index -3秒


备份和恢复:
通过操作日志可以回放.时间成本基本上就是遍历日志的成本
如果更精细的,只要在k-v库里保存玩家最后的一次操作,即可恢复整个Rank

测试命令
telnet 127.0.0.1 23
update,1,100
update,2,200
update,3,200
update,1,19999